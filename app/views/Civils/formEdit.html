#{extends 'main.html' /}
#{set title:'Modification d\'un civil' /}

<h1>Modification d'un civil</h1>
<p>* = Requis</p>
<p class="error">${message}</p>
<form action="@{Civils.editer(civil.id)}" method="POST">
    <label for="civilite">Civilité*</label><br>
    <select name="civilite">
        <option>M.</option>
        <option
        %{if (flash.civilite == "Mme" | civil.civilite == "Mme") { }% selected %{ } }%
        >Mme</option>
    </select><br>
    %{
        if (flash.nom) {
            valueNom = flash.nom;
        } else {
            valueNom = civil.nom;
        }
    }%
    <label for="nom">Nom*</label><br>
    <input type="text" id="nom" name="nom" value="${valueNom}"><br>
    %{
        if (flash.prenom) {
            valuePrenom = flash.prenom;
        } else {
            valuePrenom = civil.prenom;
        }
    }%
    <label for="prenom">Prénom*</label><br>
    <input type="text" id="prenom" name="prenom" value="${valuePrenom}"><br>
    %{
            
        if (flash.dateNaissance) {
            valueDateNaissance = flash.dateNaissance;
        } else {
            dateNaissance = civil.dateNaissance.format("yyyy-MM-dd");
            valueDateNaissance = dateNaissance;
        }
    }%
    <label for="dateNaissance">Date de naissance*</label><br>
    <input type="date" id="dateNaissance" name="dateNaissance" value="${valueDateNaissance}"><br>
    %{
        if (flash.nationalite) {
            valueNationalite = flash.nationalite;
        } else {
            valueNationalite = civil.nationalite;
        }
    }%
    <label for="nationalite">Nationalité*</label><br>
    <input type="text" id="nationalite" name="nationalite" value="${valueNationalite}"><br>

    %{
        if (flash.adresse) {
            valueAdresse = flash.adresse;
        } else {
            valueAdresse = civil.adresse;
        }
    }%
    <label for="adresse">Adresse</label><br>
    <input type="text" id="adresse" name="adresse" value="${valueAdresse}"><br>
    %{
        if (flash.codePostal) {
            valueCodePostal = flash.codePostal;
        } else {
            valueCodePostal = civil.codePostal;
        }
    }%
    <label for="codePostal">Code postal</label><br>
    <input type="text" id="codePostal" name="codePostal" value="${valueCodePostal}"><br>
    %{
        if (flash.ville) {
            valueVille = flash.ville;
        } else {
            valueVille = civil.ville;
        }
    }%
    <label for="ville">Ville</label><br>
    <input type="text" id="ville" name="ville" value="${valueVille}"><br>
    %{
        if (flash.pays) {
            valuePays = flash.pays;
        } else {
            valuePays = civil.pays;
        }
    }%
    <label for="pays">Pays</label><br>
    <input type="text" id="pays" name="pays" value="${valuePays}"><br>

    %{
        if (flash.email) {
            valueEmail = flash.email;
        } else {
            valueEmail = civil.email;
        }
    }%
    <label for="email">E-mail</label><br>
    <input type="email" id="email" name="email" value="${valueEmail}"><br>
    %{
        if (flash.telephone) {
            valueTelephone = flash.telephone;
        } else {
            valueTelephone = civil.telephone;
        }
    }%
    <label for="telephone">Téléphone</label><br>
    <input type="text" id="telephone" name="telephone" value="${valueTelephone}"><br>

    %{
        if (flash.commentaire) {
            valueCommentaire = flash.commentaire;
        } else {
            valueCommentaire = civil.commentaire;
        }
    }%
    <label for="commentaire">Commentaire</label><br>
    <input type="text" id="commentaire" name="commentaire" value="${valueCommentaire}"><br>
    <input type="submit" >
</form>